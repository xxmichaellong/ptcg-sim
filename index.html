<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ptcg sim</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="resources/css/index.css">
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
    <script type="module" src="resources/js/front-end/front-end.js"></script>
    <script>
        window.onload = () => {
            var isMobile = /iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                alert("PTCG-sim is still in mobile development. Please view on a desktop for full functionality.");
            };
        };
    </script>
</head>
<body>
    <div id="videoContainer"></div>
    <iframe id="selfContainers" class="self" src="./iframe-containers/self-containers.html"></iframe>
    <iframe id="oppContainers" class="opp" src="./iframe-containers/opp-containers.html"></iframe>
    <div id="stadium_html" class="base"></div>
    <div id="selfResizer" class="selfColour"></div>
    <div id="oppResizer" class="oppColour"></div>

    <div id="boardButtonContainer">
        <button id="turnButton">+Turn</button>
        <button id="flipCoinButton">Coin</button>
        <button id="flipBoardButton">‚áÖ</button>
    </div>

    <div id="topButtonContainer">
        <button id="p1Button" class="selected-page">1P</button>
        <button id="p2Button" class="not-selected-page">2P</button>
        <button id="deckImportButton" class="not-selected-page">Import</button>
        <button id="settingsButton" class="not-selected-page">Settings</button>
    </div>
    
    <div id="p1Box" class="sidebox">
        <div id="chatbox"><strong>Welcome to PTCG-sim!</strong>
            <br><br>
            PTCG-sim is a free desktop tool to simulate the Pokemon TCG. It supports single player (1P) and online multiplayer (2P). 
            <br><br>
            Import your decklist by clicking the ‚ÄúImport‚Äù tab above, then press ‚ÄúSet Up‚Äù to start a game.
            <br><br>
            Drag or use keybinds (hold <span class="shift-font">shift</span>) to move cards. Happy testing! ü•≥
            <br><br>
            <button id="tutorialButton">Watch Tutorial</button>
            <div id="line"></div>
        </div>
        <div id="chatboxButtonContainer" class="chat-button-container">
            <button id="attackButton" class="selfColour">Attack</button>
            <button id="passButton" class="selfColour">Pass</button>
            <button id="FREEBUTTON" class="selfColour">üéÖ</button>
        </div>
        <input id="messageInput" type="text" placeholder="Type your message here...">
        <div id="bottomP1ButtonContainer" class="sidebox-button-container">
            <button id="setupButton" class="selfColour">Set Up</button>
            <button id="resetButton" class="selfColour">Reset</button>
            <button id="setupBothButton" class="neutralColour">Set Up Both</button>
            <button id="resetBothButton" class="neutralColour">Reset Both</button>
        </div>
    </div>
    <div id="p2Box" class="sidebox">
        <div id="p2ExplanationBox">
            <strong>Online Multiplayer Mode</strong>
            <br><br>
            PTCG-sim multiplayer supports up to 2 players per room. 
            <br><br>
            Enter or generate a unique room ID to share with your friend. Both players must enter the same ID (case-sensitive) to join.
        </div>
        <div id="lobby">
            <input id="nameInput" type="text" placeholder="Name">
            <div id="roomId">
                <input id="roomIdInput" type="text" placeholder="Room ID">
                <button id="copyButton">
                    <img src="https://www.svgrepo.com/show/309480/copy.svg" alt="Copy">
                </button>                
                <button id="generateIdButton">Generate</button>
            </div>
            <div id="joinRoomButton"> Join Room </div>
        </div>
        <div id="connectedRoom">
            <div id="roomHeader">
                <div id ="roomHeaderText"></div>
                <button id="roomHeaderCopyButton">
                    <img src="https://www.svgrepo.com/show/309480/copy.svg" alt="Copy">
                </button>
        </div>
            <div id="p2Chatbox"></div>
            <div id="p2ChatboxButtonContainer" class="chat-button-container">
                <button id="p2AttackButton" class="selfColour">Attack</button>
                <button id="p2PassButton" class="selfColour">Pass</button>
                <button id="p2FREEBUTTON" class="selfColour">üéÖ</button>
            </div>
            <input id="p2MessageInput" type="text" placeholder="Type your message here...">
            <div id="p2BottomButtonContainer" class="sidebox-button-container">
                <button id="p2SetupButton" class="selfColour">Set Up</button>
                <button id="p2ResetButton" class="selfColour">Reset</button>
                <button id="leaveRoomButton" class="neutralColour">Leave Room</button>
            </div>
        </div>
       
    </div>
    <div id="deckImport" class="sidebox">
        <div id="importButtonContainer">
            <button id="mainImportHeaderButton" class="main-select">Main</button>
            <button id="altImportHeaderButton">Alt (1P only)</button>
        </div>
        <textarea id="mainDeckImportInput" spellcheck="false"></textarea>
        <script>
            document.getElementById("mainDeckImportInput").placeholder = "Paste your main decklist here. \n\nClick the book üìñ to look through popular decks or click the wand ü™Ñ for a random deck!";
        </script>          
        <textarea id="altDeckImportInput" spellcheck="false"></textarea>
        <script>
          document.getElementById("altDeckImportInput").placeholder = "Paste your alternative decklist here if you are playing against yourself. \n\nClick the book üìñ to look through popular decks or click the wand ü™Ñ for a random deck!";
        </script>
        <div id="importBottom">
            <button id="decklistsButton">üìñ</button>
            <button id="importButton">Import</button>
            <div id="decklistsContextMenu" class="decklists-context-menu"></div>
            <button id="randomButton">ü™Ñ</button>
            <div id="success">Success!</div><div id="failed">Error!</div><div id="loading"></div><div id="invalid">1P only!</div>
        </div>
    </div>
    <div id="settings" class="sidebox">
        <div id="settingsToggles">
            <div>
                <input type="checkbox" id="darkModeCheckbox">
                <label for="darkModeCheckbox">Dark mode</label>
              </div>
              <div>
                <input type="checkbox" id="showContainersCheckbox">
                <label for="showContainersCheckbox">Hide containers</label>
              </div>
        </div>
        <div id="keybindReminder">
          Hold (<span class="shift-font">shift</span>) to view keybinds
        </div>
        <div>
            <a href="https://twitter.com/xxmichaellong" target="blank" rel="noopener noreferrer">
                <div id="twitterHandle">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/512px-Logo_of_Twitter.svg.png">
                    <span id="username">@xxmichaellong</span>
                </div>
            </a>
        </div>
    </div>
      
    <div id="cardContextMenu" class="contextMenu">
        <ul>
            <li id="abilityCounterButton">Toggle ability</li>
            <li id="damageCounterButton">Damage counter</li>
            <li id="specialConditionButton">Special condition</li>

            <li id="prizesHeader">Prizes</li>
            <li id="shufflePrizesButton">Shuffle prizes</li>
            <li id="revealPrizesButton">Reveal prizes</li>
            <li id="hidePrizesButton">Hide prizes</li>

            <li id="handHeader">Hand</li>
            <li id="revealHandButton">Reveal hand</li>
            <li id="hideHandButton">Hide hand</li>
            <li id="discardHandButton">Discard hand</li>
            <li id="shuffleHandButton">Shuffle hand into deck</li>
            <li id="shuffleHandBottomButton">Shuffle hand to bottom</li>

            <li id="deckHeader">Deck</li>
            <li id="shuffleDeckButton">Shuffle deck</li>
            <li id="drawButton">Draw card(s)</li>
            <li id="viewTopButton">View top card(s)</li>
            <li id="viewBottomButton">View bottom card(s)</li>

            <li id="moveButton">Move card...
                <ul class="subMenu">
                    <li id="moveToBoardButton">to Board</li>
                    <li id="moveToTopButton">to Deck (top)</li>
                    <li id="moveToBottomButton">to Deck (bottom)</li>
                    <li id="switchWithTopButton">to Deck (switch)</li>
                    <li id="shuffleIntoDeckButton">to Deck (shuffle)</li>
                </ul>
            </li>
        </ul>
    </div>

    <div id="keybindModal">
        <div class="sections-container">
            <div class="section">
                <div class="column">
                    <h1>Move card...</h1>
                    <ul>
                        <li>to Hand <code>[h]</code></li>
                        <li>to Discard <code>[d]</code></li>
                        <li>to Bench <code>[b]</code></li>
                        <li>to Active <code>[a]</code></li>
                        <li>to Stadium <code>[g]</code></li>
                        <li>to Lost Zone <code>[l]</code></li>
                        <li>to Prizes <code>[p]</code></li>
                        <li>to Board <code>[space]</code></li>
                        <li>to Deck (top) <code>[‚Üë]</code></li>
                        <li>to Deck (bottom) <code>[‚Üì]</code></li>
                        <li>to Deck (switch) <code>[‚Üí]</code></li>
                        <li>to Deck (shuffle)<code>[s]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>Card actions</h1>
                    <ul>
                        <li>Attach <code>[q]</code></li>
                        <li>Evolve <code>[e]</code></li>
                        <li>View <code>[v]</code></li>
                        <li>Ability toggle <code>[w]</code></li>
                        <li>Damage counter</li>
                        <ul>
                            <li>Increase <code>[1-9]</code></li>
                            <li>Decrease <code>[alt + 1-9]</code></li>
                            <li>Remove <code>[0]</code></li>
                        </ul>
                        <li>Special condition</li>
                        <ul>
                            <li>Add/remove <code>[y]</code></li>
                            <li>Toggle <code>[alt + y]</code></li>
                        </ul>
                    </ul>
                </div>
            </div>
            <div class="section">
                <div class="column">
                    <h1>Deck</h1>
                    <ul>
                        <li>Shuffle deck<code>[s]</code></li>
                        <li>Draw card(s)<code>[1-9]</code></li>
                        <li>View top card(s)<code>[alt + 1-9]</code></li>
                        <li>View bottom card(s)<code>[ctrl + 1-9]</code></li>
                        <li>View <code>[v]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>Hand</h1>
                    <ul>
                        <li>Discard hand<code>[alt + d]</code></li>
                        <li>Shuffle hand into deck <code>[alt + s]</code></li>
                        <li>Shuffle hand to bottom <code>[alt + ‚Üì]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>Board</h1>
                    <ul>
                        <li>Clear playboard <code>[enter]</code></li>
                    </ul>
                </div>
                <div class="column">
                    <h1>General</h1>
                    <ul>
                        <li>Set up <code>[alt + n]</code></li>
                        <li>Reset <code>[alt + r]</code></li>
                        <li>Start turn <code>[alt + t]</code></li>
                        <li>Flip coin <code>[f]</code></li>
                        <li>Flip board <code>[alt + f]</code></li>
                        <li>Mulligan <code>[m]</code></li>
                        <li>Close popups <code>[esc]</code></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

<!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "2abae72112d74a619e3de341e1d4aa18"}'></script><!-- End Cloudflare Web Analytics -->

</body>
</html>